<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IFE</title>
    <style>
        .div2{
            width: 1200px;
            height: 180px;
        }
        .div2 button{
            margin: 5px 5px;
            flex: auto;
        }
    </style>
</head>
<body>
<div>
    <label>String A:
        <input id="radio-a" type="radio" checked="true" name="str-obj" value="a">
    </label>
    <textarea id="str-a"></textarea>
    <label>String B:
        <input id="radio-b" type="radio" name="str-obj" value="b">
    </label>
    <textarea id="str-b"></textarea>
    <label>Num A：<input id="num-a" type="number" value="0"></label>
    <label>Num B：<input id="num-b" type="number" value="1"></label>
</div>
<div class="div2">
    <button id="btn1">获取当前选中输入的内容长度</button>
    <button id="btn2">当前选中输入中的第3个字符</button>
    <button id="btn3">把两个输入框的文字连接在一起输出（concat）</button>
    <button id="btn4">输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button>
    <button id="btn5">输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button>
    <button id="btn6">使用slice获取选中输入框内容的部分内容，参数为num-a及num-b</button>
    <button id="btn7">当前选中输入框的行数</button>
    <button id="btn8">使用substr获取选中输入框内容的子字符串，参数为num-a及num-b</button>
    <button id="btn9">把所选输入框中的内容全部转为大写</button>
    <button id="btn10">把所选输入框中的内容全部转为小写</button>
    <button id="btn11">把所选输入框中内容的半角空格全部去除</button>
    <button id="btn12">把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
</div>
<p id="result"></p>
<div>
    <button><a href="test1.html">上一个练习</a> </button>
    <button><a href="test3.html">下一个练习</a> </button>
</div>
<script>
    var btn=document.getElementsByTagName("button");
    var inpa=document.getElementById("radio-a");
    var inpb=document.getElementById("radio-b");
    var numa=document.getElementById("str-a");
    var numb=document.getElementById("str-b");
    var num_a=document.getElementById("num-a");
    var num_b=document.getElementById("num-b");
    var res=document.getElementById("result");
    // 返回当前选中的输入框内容
    function val() {
        if (inpa.checked){
            return numa.value;
        }else if (inpb.checked){
            return numb.value;
        }else {
            return;
        }
    }
    //给每一个按钮添加功能
    for(var i=0;i<btn.length;i++){
        btn[i].onclick=function (e) {
            var b=numb.value;
            var a=numa.value;
            var b2=num_b.value;
            var a2=num_a.value;
            var x=val();
            var t=e.target;
            switch(t.id){
                case 'btn1' :
                        res.innerHTML=x.length;
                    break;
                case 'btn2' :
                        res.innerHTML=x.charAt(2);
                    break;
                case 'btn3' :
                    res.innerHTML=a.concat(b);
                    break;
                case 'btn4' :
                    res.innerHTML=a.indexOf(b);
                    break;
                case 'btn5' :
                    res.innerHTML=b.lastIndexOf(a);
                    break;
                case 'btn6' :
                    if(a2>b2){
                        alert("Num B的值小于Num A，请重新输入！！！");
                    }
                    res.innerHTML=x.slice(a2,b2);
                    break;
                case 'btn7' :
                    res.innerText=x.split('\n').length;
                    break;
                case 'btn8' :
                    res.innerHTML=x.substr(a2,b2);
                    break;
                case 'btn9' :
                res.innerHTML=x.toUpperCase();
                break;
                case 'btn10' :
                    res.innerHTML=x.toLowerCase();
                    break;
                case 'btn11' :
                    res.innerHTML=x.replace(/ /g, "");
                    break;
                case 'btn12' :
                    res.innerHTML=x.replace(/a/g, function (code) {
                        if (x==numa.value){
                            return code=numb.value;
                        }else{
                            return code=numa.value;
                        }
                    });
                    break;

            }
        }
    }
</script>
</body>
</html>